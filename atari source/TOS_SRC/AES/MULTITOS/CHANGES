Changes made 6/23/93:

desk*.rsc:
	Modified the "SET FONT" popup in SSCREEN so that the scrolling
	font list will always appear completely on the screen in 400
	and 200 pixel high resolutions.
deskmenu.c:
	Don't allow scrolling of iconified windows with the cursor
	keys.
 
Changes made 6/22/93:

makegem:
	Included explicit dependencies for the glue files, so that
	they'll be made automatically.
utility.c,deskinf.c,geminit.c:
	Provide sanity checking for Falcon video modes, and also
	try to provide some backwards compatibility with old .INF
	files. Make TTs and STs save a video mode in the NEWDESK.INF
	file that will approximate what a Falcon would want.

Changes made 6/21/93:

desktop.c, apgsxif.c:
	Only load fonts if the control key is *not* down.

Changes made 6/18/93:

deskbutt.c:
	Made it impossible to "scroll" an iconified window with a rubber
	band (i.e. by holding down the mouse button inside the window but
	not over the icon, and then sweeping a rectangle out).
deskmem.c:
	Made optimizer-friendly by removing a goto.

Changes made 6/17/93:

*.c,aestrap.s:
	Changed cli/sti pairs to spl7/spl pairs; the advantage of
	spl is that it doesn't use a global variable, and hence is
	re-entrant; plus, it's inlined in pgem.h and so is faster.
gemfmalt.c:
	In eralert(), wait for the button to come up before responding
	to clicks in critical error alerts.
desktop.c:
	Moved the "deskerr" call before the resource load; that way
	we avoid the "Drive A: is not responding" error when looking
	for A:\DESKTOP.RSC and no disk is in drive A:.

Changes made 6/16/93:

gemwmlib.c:
	16 colors is >= 4 planes, not 2 planes.
desktop.c:
	Fixed d_maxcolor definition.
*.o:
	More optimization fixes.

Changes made 6/15/93:

gemctrl.c:
	Made single clicks on the mover send a WM_BOTTOMED message if
	the window is on top.
	Made the sizer code display two lines (giving the work area and total
	size of the window).
desktop.c:
	Changed fntmn_b1 and fntmn_b2 to fntmnb1 and fntmnb2, again
	thank you DRI.
apgsxif.c:
	Changed cu_font_id to cu_fntid to avoid conflicts thanks to
	DRI's brain dead linker.

Changes made 6/14/93:

desk*.rsc:
	Updated resources as need for Hans-Martin's and Cary's changes.
*.*:
	Merged Hans-Martin's and Cary's changes (selectable fonts in
	desktop windows, tool-bars, scrollable drop-down menus, better
	iconification stuff, etc.)

Changes made 6/11/93:

deskbutt.c:
	Added wind_update() protection around some of the redrawing stuff.	
gemfslib.c:
	Found a work-around for the Lattice optimizer bug.
*.o:
	Started recompiling with optimization on.

Changes made 6/10/93:

gemwmlib.c:
	Made the iconify/uniconify code and the window colors changing
	code compatible (so that when window colors are changed, iconified
	windows are redrawn properly).
gemcli.c:
	Backed out the earlier ACCPATH change, since that seemed to be
	producing strange attempts to access drive A: in single tasking
	mode.

Changes made 6/9/93:

geminit.c:
	Created a new MiNT device, AES_BIOS, which will manage BIOS I/O
	for GEM applications. Now, if an application (such as the desktop)
	makes a Bconin() call, it gets its key from the evnt_keybd() buffer.
	This fixes contention between the AES and clients for keyboard
	events, and fixes the slow response of the UNDO key during
	desktop operations (for example).  
gem*.c:
	Began to replace "trap" calls with appropriate osbind macros,
	both to improve readability and to make it easier to find
	dependence on OS calls.

Changes made 6/8/93:

gemqueue.c:
	Restored the "redraw message" optimization.
deskact.c:
	In bld_par(), provide quoting for any files containing spaces
	or starting with single quotes.
gemcli.c:
	Look for accessories along ACCPATH *first*, as this allows
	a different set of accessories to be used for MultiTOS versus
	plain TOS.
gemshlib.c:
	Fixed a bug in the environment code (it would try to write
	to some static data; for ROMs, this is bad news :-( ).
gemctrl.c, gemmnlib.c:
	Have the screen manager send only process id's to the AES,
	not process structures; this prevents a race condition where the
	AES can delete a process before receiving a message from SCREEN.
gemdisp.c:
	In pdterm(), notice if the shell has exited and mark shellpd
	invalid if so.

Changes made 6/4/93:

geminit.c:
	Created the AES_MT device only once (we only need it created once!)

Changes made 6/1/93:

gemwmlib.c:
	Fixed the _DDD drawing code so that the _DDD cookie works
	as documented.

Changes made 5/24/93:

geminit.c:
	Allowed the mouse to be displayed during the opening dialog. This
	used to cause crashes on Falcons; in fact the problem was in MiNT
	(which was trying to be too clever about logical screen addresses)
	and not in the AES.
gemmnlib.c, gemshlib.c:
	Fixed a bug which would cause the desktop to hang in
	single tasking mode after coming back from executing a program
	(if no windows were open, then the screen manager would become
	the keyboard owner via the phantom window, and everyone would
	hang).

Changes made 5/21/93:

deskact.c:
	Expanded the drag&drop code so that the desktop can be the
	target of a drag & drop; in this case, either the path
	to which things were dragged is sent back to the application,
	or else the desktop creates a file containing the data
	and puts an icon there for the user.

Changes made 5/20/93:

deskmenu.c:
	Fixed the "window bottoming" code so that the new top window
	gets put on top.

Changes made 5/19/93:

gemshlib.c:
	Fixed the resolution change code so that if res. change fails,
	we're not stuck in an intermediate state (it used to be that if
	you tried to switch to a resolution and failed, you could never
	switch to that resolution until after you'd successfully changed
	to a third resolution.
deskwin.c:
	Fixed an "off by one" bug in the code for blitting window
	rectangles, which could sometimes cause a crash if a window
	was partly off-screen.
gemshlib.c:
	Fixed shel_put so that when a new, smaller buffer is written
	(e.g. when a smaller desktop.inf is read in) then the buffer
	size is set to the new size.

Changes made 5/18/93:

gemwmlib.c:
	Fixed the slider code so that the same algorithm is used for
	slider sizes when creating a window and when doing wind_set on
	it (the former case didn't use to check for sliders smaller than
	gl_hbox).

Changes made 5/14/93:

deskdisk.c:
	Made the desktop disk copy/format box use window part colors
	(gets rid of some annoying interlace flicker in most modes).
gemfslib.c:
	Made the file selector parts have the same colors as window parts.
gemwmlib.c:
	Used gray as the default color for window parts in >4 color modes
	(as the window color CPX does).

Changes made 5/13/93:

gemoblib.c:
	Added code to detect whether or not the VDI vr_trnfm reverses
	pixels in 16 color pixel packed mode, so that color icons
	will be displayed correctly for both kinds of VDI.
deskrom.c:
	Changed the glue file format to allow for compressed glue files.
	Added decompression code, and wrote a new "newglue.prg" that
	can output compressed files. Everything fits in ROM now!

Changes made 5/11/93:

desk*.c: ++hmk
	Allow desktop windows to be iconified.
gemwmlib.c: ++hmk
	New wmset and wmget modes to iconify windows.
gemsigna.c: ++hmk
	More iconified window support.
gemctrl.c: ++hmk
	Window manager support for iconified windows.
gemoblib.c: ++hmk
	Fixed the drawing of text inside 3D boxes.
gem*.rsc:
	Made all the alert boxes use color icons, instead of black and
	white images.

Changes made 5/07/93:

gemfmalt.c:
	Calculated icon height and width based on the real height and
	width of icons, instead of hard-coding it to 4.

Changes made 5/06/93:

desk*.rsc:
	Added memory limit popup to the "Install Application" dialog.
	Went through and cleaned up the resource files to make sure
	they all agreed (they had drifted out of sync).

Changes made 5/05/93:

deskdefi.h,deskapp.c,deskinf.c:
	Added memory limits to the application structure.
desk*.rsc,desktop.c:
	Made the "Desktop info..." dialog box report the TOS or MultiTOS
	version number.

Changes made 5/04/93:

deskwin.c:
	Bug fix in do_blit: windows weren't blitted left properly,
	because of a typo.
gemwmlib.c:
	Fixed the bottom window bar to look OK when there are arrows but
	no slider.
gemaplib.c:
	Extended appl_getinfo to return lots more stuff about the OS.

Changes made 5/03/93:

deskmenu.c:
	Used the XBIOS keyboard tables for determining control and alternate
	key presses, rather than hard-coding tables into the desktop.
deskmenu.c:
	The desktop now forces the mouse to be on and in an arrow shape
	whenever one of its windows is on top.

Changes made 4/30/93:

gemoblib.c:
	Made the color icon code allocate 1 big block of memory instead of
	lots of small ones (a big win with memory protection).
gem*.rsc:
	Fixed the critical error alerts so that the "Cancel" button
	always appears on the right, like all our other alerts do.
desk*.inf:
	Made TT medium the default resolution instead of ST high.

Changes made 4/29/93:

mn_menu.c: ++cjg
	Fixed the calculation for finding maximum menu height.
gembind.c: ++cjg
	Allow the "About..." menu item to be manipulated with menu_text
	and menu_ienable.
gemflag.c,gemsigna.c: ++cjg
	Fixed a problem with wind_update(BEG_MCTRL) (if the mouse entered
	the menu bar the AES would still send a message to the screen
	manager, even though someone else had mouse control).
gemctrl.c,gemmnlib.c: ++hmk
	Fixed up menu_bar call so that applications can disable (i.e.
	remove) their menus under MultiTOS.
gemdisp.c:
	Send a WM_ONTOP message to the application which is put on top
	after a swap_next() operation (e.g. if another application
	exits).
gemctrl.c:
	Made it possible to select an application from the desk menu
	even if it is not responding to WM_TOPPED messages.
gemwmlib.c:
	Fixed the WF_BOTTOM code so that setting a window to the bottom
	forces a redraw of all window parts, not just the name.
gemshlib.c:
	Added a check so that accessories can only be launched from the
	desktop in single-tasking mode.
desk*.inf:
	Added the '#A ' line needed to get accessory launching.
gemwmlib.c:
	Made changing the default window colors also change the colors
	of existing windows (as long as those existing windows were
	using the default colors).

Changes made 4/28/93:

gemctrl.c:
	Made the screen manager use objc_xfind in place of objc_find.
deskopen.c,deskmenu.c:
	Made the desktop iconify windows upon receipt of a WM_ICONIFIED
	message; added iconifier gadgets to windows.
gembind.c,gemoblib.c:
	Provided a new objc_xfind call that does what objc_find does in
	Falcon TOS (i.e. uses the whole object area), and made objc_find
	look only on the insides of objects (as it did in previous TOS
	versions).

Changes made 4/23/93:

desk*.rsc:
	Updated the Help menus to reflect reality; added
	"Clr/Home" for redraw screen, and deleted "Alt-Help"
	and "Alt-[1..6]", which are no longer supported.

Changes made 4/22/93:

gemwmlib.c:
	Added the iconifier gadget (W_SMALLER).
gemctrl.c:
	Made single-clicking on the name result in a TOPPED
	message, and shift-clicking on the name give a
	BOTTOMED message.
windlib.h,gemlib.h,gemwmlib.c:
	Added WM_BOTTOMED message, definition for iconifier
	gadget, and commented out the remaining menu bar
	gadget code.

Changes made 4/21/93:

aestrap.s:
	Made waitforaes() and releaes() use a global variable for a
	semaphore; this should save considerable system call overhead
	(it saves two calls to Psemaphore() per trap #2 call).

Changes made 4/20/93:

gemevlib.c:
	Fixed a misleading comment for ev_dclick.
gemdisp.c:
	Extensive changes to do non-blocking waits; now instead of sitting
	in a loop doing Syield(), the AES does an Fselect which causes
	it to sleep until some event occurs. To accomplish this, it installs
	a new MiNT device (\DEV\AES_MT) which responds to mouse clicks
	and timer events.

Changes made 4/14/93:

gem*.rsc:
	Changed the "Please insert system disk..." alert to read
	"Please insert MultiTOS disk...".

Changes made 4/7/93:

gemoblib.c:
	Color icons shouldn't be XOR'd when selected!
gemaplib.c:
	Added wm_update() calls to ap_exit(), since appl_exit can
	(indirectly) result in changes to the screen.
gemfmalt.c:
	Added wm_update(1)/wm_update(0) calls to lock the screen while
	an alert box is displayed. Also: made all the text strings
	TOUCHEXIT so that the box may be moved by grabbing any part of it.

Changes made in March and April generally:

*.[csh]:
	EXTENSIVE changes to allow single tasking operation; too many
	to detail here, but look for tests of the gl_multi flag.

Changes made 3/10/93:

deskopen.c:
	Clean ups to make Lattice stop giving warnings.
deskvdi.c:
	Added some kludges to get around Lattice's "redefinition
	of TEXT" warning (this could really be a problem, except
	that TEXT isn't actually used in deskvdi.c).
desksear.c:
	Removed the commented out "desk_mice" calls.
trap.s,makefile:
	The functions in osbind.o already existed in trap.o, but with
	different names. Merged those into trap.s and got rid of
	osbind.o in the makefile.
desktop.c,geminit.c,gemobed.c,gemoblib.c,gemrom.c:
	Merged in Hans-Martin's loadable resource code, and his
	bug fixes for objc_edit.
EVERYWHERE:
	Merged in Lattice port. Here are the notes from that:


Moved all of stuff from gemdefs.h to gemlib.h. This means that gemdefs.h
is no longer required. Please get rid of it and use gemlib.h

Discovered that deskobde.h is nothing more than a subset of obdefs.h. 
You should kill the deskobde.h file and use obdefs.h instead.

Compiler.h and portab.h were almost identical. I merged the two files
and compiler.h should be deleted. Use portab.h instead.


Overview:

 - gemdefs.h doesn't exist. Use gemlib.h instead.
 - deskobde.h doesn't exist. Use obdefs.h instead.
 - compiler.h doesn't exist. Use portab.h instead.




do1_alert from VOID to WORD, change return value in the deskmisc.c
removed extern func decl in pgem.h
rm duplicate func protos from pmisc.h
moved all of ctrlbind.c protos from pgem.h to pmisc.h
====================== MultiTOS 1.01 released ==================
Changes made 3/05/93:

desktop.c,kballoc.c:
	Re-initialize the malloc arena blocks every time we restart
	the desktop; that way, if we die and the user asks to load
	the desktop, we don't get bus errored.

Changes made 3/04/93:

deskdisk.c:
	Changed the size of the buffer allocated for the boot sector
	in floppy to floppy copy operations from 0x158 (huh?) to
	1024.

Changes made 3/03/93:

deskgrm.rsc:
	Changed the OK button from an indicator to an activator (as it
	is in other languages).

Changes made 2/24/93:

gemshlib.c:
	In shel_find, changed a "strcpy" into "nstrcpy" so that
	a temporary variable could not be overflowed. (++HMK)
gemctrl.c:
	Moved the clearing of the checkmark. This seems to correct the
	"menu bar" bug. (++HMK)

Changes made 2/23/93:

gemfre.rsc:
	Added the French translation of the "Please insert system disk"
	dialog.
deskwin.c:
	Hans-Martin fixed a bug in the desktop window code: if you hit ^A
	to change a window to drive A:, and drive A: is not responding, the
	old window contents are still displayed, but the desktop tries to
	use A: as the drive letter when copying files out of the window.
	(++HMK).
gemctrl.c:
	Changed the screen manager's "sleep time" to a much lower value
	when resolution changes are in progress; this makes the resolution
	change happen much sooner, and avoids possible user confusion.

Changes made 2/18/93:

gemshlib.c:
	Corrected the code that set up the process' name and arguments
	when launching TOS/TTP applications via a program like MINIWIN
	(in this case when MINIWIN does a shel_read it should get its
	own path+name, rather than the TOS/TTP program's).
deskmenu.c, desk*.rsc:
	Changed the name of the desktop's "iconified" icon from WINICON
	to SMILEY, because WINICON was already in use with a completely
	different meaning. (++CJG)
deskact.c,deskmem.c:
	Fixed some Mfree's that accidentally got left in during
	the change to kballoc().
deskopen.c:
	Fixed a memory allocation problem (strlen(s) isn't enough
	room for "s"; you need to add 1 for the trailing 0).

Changes made 2/17/93:

desktop.c,desk*.rsc:
	Moved the "DESKTOP" string which is used for menu_register
	into the resource, and translated it to "Bureau GEM" in the
	French resource.
deskmn.c:
	Fixed the Set Video dialog so that if the resolution change
	fails, the dialog doesn't have that resolution selected next
	time it comes up.
deskmenu.c:
	Took out the code for changing resolutions with ALT+number;
	this isn't implemented for Falcon, and was causing strange
	error messages on TTs if users tried to "change" to the current
	resolution.
deskact.c:
	Made the "Copy files" and "Delete files" dialogs back into
	dialogs instead of being hybrid dialog/windows; this should
	at least prevent the many bug reports about incorrect redraws,
	inability to move the "windows" at certain times, etc.
gemstart.s:
	Removed the code that changed exec_os, since MiNT already sets this
	up correctly (and since the code was broken :-( ).

Changes made 2/11/93:

gempd.c:
	Added checks for names that exceed the hardcoded 8.3 assumptions
	(this matters even on GEMDOS only systems, because users can type
	such long names at the "Open Application" dialog on the desktop,
	and this used to crash the system!)
deskshel.c:
	Simplified the launch_pref code so that if the user enters
	"..\foo\bar" into the "Open Application" dialog, it's still
	searched for relative to the current window path.

Changes made 2/2/93:

desk*.c,utility.c:
	Changed the desktop to use Allan & Ken's malloc() code instead
	of calling the OS Malloc function directoy, in hopes of saving
	some memory. So far, only 8K has been saved :-(, but perhaps
	tuning will help.

======================= MultiTOS 1.0 released =======================
Changes made 1/25/93:

gemgrm.rsc,deskgrm.rsc:
	Corrected some typos in the German resource.

Changes made 1/21/93:

gemoblib.c:
	In monochrome mode, add an extra black line to 3D background
	outlines.

Changes made 1/20/93:

gemfslib.c:
	Fixed a bug where holding the mouse button down on the part of
	the slider above the elevator bar would eventually cause the
	elevator to wobble back and forth.
	Also: prettied up the 3D effects in the scroll bar and title.

Changes made 1/19/93:

gemfslib.c:
	The file selector box was grabbing the biggest available chunk
	of memory in the system. This is really silly; we use 16 bytes
	per file, so 256K will be enough for 16,000 files, more than
	we're likely to see in any given directory.
gemoblib.c, gemfslib.c, desktop.c,*.rsc:
	Hollow, white, 3D objects now get set to the appropriate
	3D color (depending on which 3D bits are set) as set by
	objc_sysvar. This should make programming 3D objects much
	easier, and eliminates the need for changing the colors
	of boxed characters in the desktop and form_alert startups.
gemobed.c:
	Added 1 pixel to the size of the redraw rectangle when the
	cursor is moved; otherwise, "splotches" get left behind
	if the character extends past the cursor. This bug is
	also in Falcon TOS, but not in earlier TOSes.

Changes made 1/18/93:

gemfmalt.c:
	Made more parts of the alert box touchexits, so that
	users can grab pretty much anywhere in the box
	to move it around.
gemoblib.c:
	Changed the way outlining is done for 3D background objects
	(now they have a 3D "look").
gemfslib.c:
	Fixed the up arrow object so that it is deselected when
	it is pressed and the scroll bar is already at the top
	of the box.
*.rsc:
	Updated all desktop objects to use the new 3D background
	flag.

Changes made 1/14/93:

deskmenu.c:
	If not on a Falcon, there's no reason to display the Falcon
	video stuff (the user will have to click on "Compatibility
	Modes" anyway). So now we go directly to Compatibility Modes
	on old machines.
geminit.c:
	The AES reads the desktop.inf file to find the resolution; so
	I also made it check for the desktop pattern and color to use
	when launching applications.
deskinf.c:
	Made the default color light cyan instead of green if there are >= 16
	colors.
gemoblib.c:
	Made objects which have ob_flags bit 9 clear and bit 10
	set get the same background color as alert boxes (settable by
	objc_sysvar). This can be considered a new type of 3D
	object, "3D background".
deskmenu.c:
	Added a new message, SH_WDRAW, for external programs to tell
	the desktop that windows have been updated. Especially
	useful for copiers and/or formatters.
mn_*.c:
	Cary updated his hierarchical menu code to use the extended
	object field only if a bit in ob_flags is set.
gemob*.c,obdefs.h,gemwmlib.c,*.rsc:
	Changed the way 3D objects are implemented. Now they're
	done with 2 bits in ob_flags, instead of using the
	extended object type. The Germans will be happy.

Changes made 1/11/93:

gemwmlib.c:
	Fixed the slider initialisation bug. The problem was that
	the size of a slider was being calculated by multiplying
	16 bit quantities, and this was overflowing (sliders
	are scaled by 1000, so any window more than 65 pixels
	high would get messed up when the multiply overflowed).
desksele.c:
	Added a check in i_find() to make sure that the mouse
	really is over a desktop window, so that for example
	when dragging & dropping to an application window the
	desktop doesn't highlight icons in one of its windows.


Changes made 1/8/93:

deskact.c:
	Added a wind_delete() call after the wind_close()
	of the copy dialog window.
*.rsc:
	Updated the copyright notices to include 1993.


Changes made 1/7/93:

deskinf.c:
	Changed the default patterns to be solid colors
	in all color resolutions (as in older TOSes).
deskmenu.c,gembind.c,gemctrl.c,gemdisp.c,gemmnlib.c:
	Merged in Derek's changes.

Changes made 12/21/92:

deskdisk.c:
	Fixed the disk copy bar: the problem was that Alcyon was
	incorrectly compiling the statement
		if (j = foo % bar )
	Made the disk copy/format dialog a real dialog again,
	instead of a window.
	Also: changed the memory allocation code so that no more
	than the amount of memory required for the disk will be
	allocated (before, it was allocating the largest free block
	of memory, which could be quite wasteful).
apgsxif.c:
	Changed the font sizing code so that it did does the Speedo
	kludge if Speedo is installed and an FSM font (not the
	system font) is in use.
gemstart.s:
	Changed a message from "No MiNt kernel..." to "No MiNT kernel...".
gemshlib.c:
	In sh_exec, after executing the program change the current
	directory back to the root of the current drive. Otherwise, the
	MiNT/GEMDOS kernel will think that the directory is in use
	(since it is the current directory of AESSYS) and will refuse
	to allow anyone to delete that directory.

Changes made 12/18/92:

apgsxif.c:
	Assume a default font of 1 if no other font is
	loaded (1 is the system font, which in fact is
	the font used; but applications which used
	ap_getinfo() to get font info were being told to
	use font -1).
geminit.c:
	Look for C:\MULTITOS\GEM.CNF if C:\GEM.CNF is not
	found.

Changes made to the AES & Desktop 12/16/92 and 12/17/92:

geminit.c:
	Made the default for st_lang come from the OS header
	in ROM; that way MultiTOS will get the right language
	on machines with no _AKP cookie.
deskmenu.c:
	Changed av_mem() to use the "nice" way of finding the
	amount of free memory (i.e. Dfree on U:\PROC) rather
	than the nasty way of allocating all memory and counting
	how much there was.
machine.h:
	Removed debugging messages for the "production" (hah!)
	release.
gemaplib.c:
	Added a new appl_getinfo() option, to get the current
	language preference; that way applications
	can be made to adapt themselves to the current environment.
deskact.c:
	Implemented the new version of drag & drop, which uses a
	MiNT pipe to communicate data; this protocol is much
	safer (and more extensible) than the one implemented last week.
	(It's documented elsewhere.)
*.rsc:
	See below.
gemctrl.c,deskmenu.c,deskpref.c,desktop.c:
	Changed form_alert() calls into do1_alert() calls,
	and put the corresponding strings into the resource(s)
	(so that they can be translated). Translations are in
	progress for these new strings.



Changes made to the AES & Desktop 12/8/92:

apgsxif.c:
	Took out Derek's "kludge" that munged the small
	font's size when Speedo was installed. I don't
	know why this kludge was in there; I'm guessing
	it was because AE_PNTSIZE and AE_FONT weren't
	working properly, but we've already admitted to
	everyone that those don't work. Moreover, the
	kludge DID break the one font that *must* work,
	namely the default system font (which isn't even
	a speedo font).

deskact.c:
	Added a drag & drop message. Derek already had most
	of the work in there; the desktop was creating
	SCRAP.ARG, but not sending any message. Here's what
	the message I designed looks like:

	    mbuf[0]	AP_DRAGNDROP (66)
	    mbuf[1]	sender's id	
	    mbuf[2]	0
	    mbuf[3]	handle of window that was dropped on
	    mbuf[4]	see below
	    mbuf[5]	see below
	    mbuf[6]	x position of mouse when released
	    mbuf[7]	y position of mouse when released

	mbuf[4] and mbuf[5] together identify the "type" of
	operation, in 4 bytes: the first 4 bytes are an extension
	(e.g. "ARG" or "TXT") and the last  byte is the keyboard
	shift key state at the time of the "drop". The extension
	indicates the primary scrap file type; an application
	receiving an AP_DRAGNDROP message should treat it as a
	request to paste data, and should use the extension provided
	to recover the data from the clipboard. Currently the
	desktop only does one kind of drag and drop, namely
	of a set of file or directory names; the resulting
	file is called SCRAP.ARG, and contains the file and
	directory names separated by spaces and terminated with
	a 0.

deskshel.c:
	When opening an application, check to see if any sort
	of path was given; if none was, then look for the file
	in the top window and if it's there, pass the window's
	path to the AES. This corrects a misfeature: now that
	the AES and desktop are different applications, they
	can have different current directories, and so users
	who tried to "open" a file in the current directory
	would sometimes be told that the file couldn't be
	opened.

geminit.c,gemrom.c:
	Made the AE_LANG variable in gem.cnf override the _AKP
	cookie setting.
	Also: created a semaphore (_SCP) which can be used to
	control access to the clipboard.

gemaplib.c:
	Added a cast to (long) to some code that did bit twiddling
	on a pointer; my version of alcyon barfed on doing such
	things to pointers.

deskusa.rsc:
	Added "..." after "Set Video" (the other languages' resource
	files already had this).

gemshlib.c:
	Corrected the code for launching TOS/TTP applications via the
	TOSRUN environment variable; the TOSRUN program should have
	been getting the name of the TOS/TTP app. in its first argument.
