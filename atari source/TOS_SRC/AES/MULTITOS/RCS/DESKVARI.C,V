head	1.10;
access;
symbols;
locks
	ersmith:1.10;
comment	@ * @;


1.10
date	93.06.15.22.53.36;	author ersmith;	state Exp;
branches;
next	1.9;

1.9
date	93.06.14.23.48.02;	author ersmith;	state Exp;
branches;
next	1.8;

1.8
date	93.06.09.23.47.00;	author ersmith;	state Exp;
branches;
next	1.7;

1.7
date	93.05.12.15.50.18;	author ersmith;	state Exp;
branches;
next	1.6;

1.6
date	93.04.27.23.00.14;	author ersmith;	state Exp;
branches;
next	1.5;

1.5
date	93.04.14.22.19.54;	author ersmith;	state Exp;
branches;
next	1.4;

1.4
date	93.03.12.19.51.12;	author ersmith;	state Exp;
branches;
next	1.3;

1.3
date	93.03.10.20.12.42;	author ersmith;	state Exp;
branches;
next	1.2;

1.2
date	93.03.08.20.07.02;	author ersmith;	state Exp;
branches;
next	1.1;

1.1
date	93.02.24.23.52.46;	author ersmith;	state Exp;
branches;
next	1.0;

1.0
date	93.02.03.21.26.46;	author ersmith;	state Exp;
branches;
next	;


desc
@Desktop variables
@


1.10
log
@Minor resource editing, elclean ups, etc.
@
text
@/*	DESKSTOR.C		6/12/89 - 6/13/89	Derek Mui	*/
/*	Take out some variable	6/28/89	- 9/13/89	D.Mui		*/

/************************************************************************/
/*	New Desktop for Atari ST/TT Computer				*/
/*	Atari Corp							*/
/*	Copyright 1989,1990 	All Rights Reserved			*/
/************************************************************************/

#include "portab.h"
#include "obdefs.h"
#include "deskdefi.h"
#include "deskwin.h"
#include "osbind.h"

/*
 *	Set the DESKPRG flag to compile this file for a
 *	replacement Desktop. Clear it for making GEM.SYS
 *      DESKPRG must also be set/cleared in
 *	      DESKSTAR.S, DESKTOP.C, DESKROM.C
 *	See the Defines in the softload.h file.
 */
#include "softload.h"

BYTE	dr[32];		/* drives flag			*/	
WORD	p_timedate;	/* preserve time and date	*/

WINDOW	*ww_win;	/* for w_gfirst and w_gnext	*/

WORD	d_nrows;	/* number of rows used by show	*/
WORD	d_level;	/* window path level		*/
BYTE	*d_path;	/* window path buffer		*/

WORD	pxyarray[10];	/* input point array 		*/

WORD	d_xywh[18];	/* disk icon pline points	*/
WORD	f_xywh[18];	/* file icon pline points	*/

OBJECT	*menu_addr;	/* menu address			*/
OBJECT	*background;	/* desktop object address	*/	
GRECT	dicon;		/* desktop icon size		*/
GRECT	r_dicon;	/* real time desktop icon size	*/
OBJECT	*iconaddr;	/* desktop icon dialogue address*/
WORD	maxicon;	/* max number of desktop icons	*/
WORD	i_status;	/* current status TURE or FALSE	*/
/* WORD	g_defdrv;	*/	/* save the default drive		*/
LONG	gh_buffer;	/* ghost icon outline buffer address	*/	
IDTYPE	*backid;	/* background icon type definition	*/
APP	*appnode;	/* app buffer array		*/
APP	*appfree;	/* app buffer free list		*/
APP	*applist;	/* app buffer list		*/
DTA	dtabuf;		/* dta buffer	*/
WINDOW	*warray[MAXWIN];/* window structure	*/	

/*	Variables for the desktop.inf file	*/

WORD	s_sort;		/* sort item	*/
WORD	s_view;		/* view item	*/
WORD	ccopy_save;	/* copy ?	*/
WORD	cdele_save;	/* delete ?	*/
WORD	write_save;	/* write ?	*/
WORD	cbit_save;	/* bitblt 	*/
WORD	pref_save;	/* screen pref	*/
WORD	s_cache;	/* cache 	*/
WORD	s_stofit;	/* size to fit	*/
UWORD	windspec;	/* window pattern	*/

/************************************************/

BYTE	autofile[PATHLEN];
BYTE	path1[PATHLEN];	/* utility path		*/
BYTE	path2[PATHLEN];
BYTE	*path3;
BYTE	inf_path[PATHLEN];	/* store the inf path	*/

BYTE	g_buffer[160];	/* merge string buffer	*/
BYTE	comtail[PATHLEN];/* comtail tail buffer	*/

WINDOW	winpd[MAXWIN + 1];/* window process structure	*/
WINDOW	*winhead;	/* head of window list 		*/
GRECT	full;		/* full window size value	*/

GRECT	fobj;		/* file object	*/

WORD	deskp[3];	/* desktop pattern	*/
WORD	winp[3];	/* window pattern	*/

BYTE 	getall[] = "*.*";
BYTE 	bckslsh[] = "\\";
BYTE 	curall[] = ".\\*.*";
BYTE 	baklvl[] = ".\\..";
BYTE	wildext[] = "A:\\*.*";
BYTE	wilds[] = "\\*.*"; 
BYTE	noext[] = "*.";
BYTE	Nostr[] = "";
BYTE	infdata[] = "DESKTOP.INF";
BYTE	infpath[] = "C:\\NEWDESK.INF";
BYTE	icndata[] = "C:\\DESKICON.RSC";
BYTE	cicndata[] = "C:\\DESKCICN.RSC";
BYTE	Nextline[] = "\012\015";


#if DESKPRG
/* APGSXIF.C Globals */
GLOBAL WORD	gl_nrows;
GLOBAL WORD	gl_ncols;

GLOBAL WORD	gl_wchar;	/* character cell width	*/
GLOBAL WORD	gl_hchar;	/* character cell height*/

GLOBAL WORD	gl_wbox;
GLOBAL WORD	gl_hbox;

GLOBAL WORD	contrl[12];
GLOBAL WORD	intin[256];
GLOBAL WORD	ptsin[256];
GLOBAL WORD	intout[256];
GLOBAL WORD	ptsout[256];

GLOBAL LONG	ad_intin;

GLOBAL	LONG	gl_vdo;

GLOBAL  WORD	ctldown;	/* ctrl key down ?	*/

#endif
@


1.9
log
@Merged in Hans-Martin and Cary's changes
@
text
@@


1.8
log
@Another check in to save work.
@
text
@d79 1
a79 1
WINDOW	winpd[MAXWIN];	/* window process structure	*/
@


1.7
log
@Check in to save work
@
text
@@


1.6
log
@Merged Cary's and Hans-Martin's changes
@
text
@d21 1
a21 1
 *	See the Defines in the makegem/makedesk files.
d23 1
a23 1

@


1.5
log
@Incorporated more single/multitasking changes.
@
text
@d16 9
d101 26
@


1.4
log
@Merged HMK's loadable resource stuff
@
text
@@


1.3
log
@Lattice port
@
text
@@


1.2
log
@REAL MultiTOS 1.01
@
text
@d10 5
a14 6
#include <portab.h>
#include <deskobde.h>
#include <deskdefi.h>
#include <deskwin.h>
#include <gemdefs.h>
#include <osbind.h>
@


1.1
log
@1 meg floppy MultiTOS
@
text
@@


1.0
log
@MultiTOS version 1.0
@
text
@@
