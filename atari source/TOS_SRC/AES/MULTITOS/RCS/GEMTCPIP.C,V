head	1.9;
access;
symbols;
locks
	ersmith:1.9;
comment	@ * @;


1.9
date	93.06.14.23.48.02;	author ersmith;	state Exp;
branches;
next	1.8;

1.8
date	93.06.09.23.47.00;	author ersmith;	state Exp;
branches;
next	1.7;

1.7
date	93.05.12.15.50.18;	author ersmith;	state Exp;
branches;
next	1.6;

1.6
date	93.04.27.23.00.14;	author ersmith;	state Exp;
branches;
next	1.5;

1.5
date	93.04.14.22.19.54;	author ersmith;	state Exp;
branches;
next	1.4;

1.4
date	93.03.12.19.51.12;	author ersmith;	state Exp;
branches;
next	1.3;

1.3
date	93.03.10.20.12.42;	author ersmith;	state Exp;
branches;
next	1.2;

1.2
date	93.03.08.20.07.02;	author ersmith;	state Exp;
branches;
next	1.1;

1.1
date	93.02.24.23.52.46;	author ersmith;	state Exp;
branches;
next	1.0;

1.0
date	93.02.03.21.26.46;	author ersmith;	state Exp;
branches;
next	;


desc
@Do-nothing code (someday maybe networking)
@


1.9
log
@Merged in Hans-Martin and Cary's changes
@
text
@/*	GEMTCPIP.C	9/19/92				Derek Mui		*/
/*	THis file contains functions to handle interprocess communication	*/

/*	-----------------------------------------------------------
*	AES Version 4.0	MultiTOS version is written by Derek M. Mui
*	Copyright (C) 1992 
*	Atari (U.S.) Corp
*	All Rights Reserved
*	-----------------------------------------------------------
*
*	02/12/93	cjg	Converted to Lattice C 5.51
*	02/22/93	cjg	Force the use of prototypes
*/	
#include "pgem.h"
#include "pmisc.h"

#include "machine.h"
#include "pdstruct.h"
#include "dispvars.h"
#include "aesmint.h"

EXTERN	PD	*currpd;
EXTERN	WORD	spdid;		/* wm_update owner	*/

#define	IP_OK		 0
#define IP_LOCK		-1	/* Sender is locking the screen resource	*/
#define	IP_NOID		-2	/* No receiver or invalid ID			*/
#define	IP_TIMEOUT	-3

#define	IP_SIZE	1024


/*	Talk to a process and wait for its reply	*/

	WORD
ip_talk( id, buffer )
	WORD	id;		/* receiver AES id	*/
	BYTE	*buffer;	/* data buffer		*/
{
	if ( currpd->p_pid == spdid )	/* the sender owns the screen 	*/
	  return( IP_LOCK );	/* return dead lock error	*/

	if ( !idtopd( id ) )
	  return( IP_NOID );

	return(IP_OK ); 
}

@


1.8
log
@Another check in to save work.
@
text
@@


1.7
log
@Check in to save work
@
text
@@


1.6
log
@Merged Cary's and Hans-Martin's changes
@
text
@@


1.5
log
@Incorporated more single/multitasking changes.
@
text
@@


1.4
log
@Merged HMK's loadable resource stuff
@
text
@@


1.3
log
@Lattice port
@
text
@@


1.2
log
@REAL MultiTOS 1.01
@
text
@d10 3
d14 2
d17 4
a20 7
#include <compiler.h>
#include <machine.h>
#include <pdstruct.h>
#include <dispvars.h>
#include <obdefs.h>
#include <gemlib.h>
#include <aesmint.h>
a23 1
EXTERN	PD	*idtopd();
@


1.1
log
@1 meg floppy MultiTOS
@
text
@@


1.0
log
@MultiTOS version 1.0
@
text
@@
