;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ Fenˆtre Application ////////////////////////////

 DATA

objet_application:	; ;METHODLIST_PTR;NAME;MENU_SPEC_PTR;WPROPERTIES;SHORTCUTLIST_PTR
	GWVA_WAPP_STRUCT_HEAD	objet_application_events,'Oapp',structure_menu_principal

		; PROPERTIES,REG_NAME,ACC_NAME,RSC_INFO;TSR_SIZE
	GWVA_WAPP_STRUCT_BASE	GWVA_WAPP_MASK_RSC_MULTI_RES,name_app,name_menu,table_name_rsc
	GWVA_WAPP_STRUCT_BACKGROUND objet_fenetre_fond	; ;BACKGROUND_WIND_PTR

objet_application_events:	; METHOD,ROUTINE;CLASS;PROPERTIES
	GWVA_OBJ_STRUCT_METHOD	GWVA_METHOD_CREATED,custom_inits
	GWVA_OBJ_STRUCT_METHOD	AC_OPEN,acc_open
	GWVA_OBJ_STRUCT_METHOD	AC_CLOSE,acc_close
	GWVA_OBJ_STRUCT_METHOD	AP_TERM,app_term
	GWVA_OBJ_STRUCT_METHOD_END_LIST

structure_menu_principal:
		; TREE;NAME;PROPERTIES
	GWVA_MENU_STRUCT_HEAD	MENU_PRINCIPAL,'Menu'
	GWVA_MENU_STRUCT_BASE	; ;LIST_ATTACH_PTR;SCROLL_INDEX;PROPERTIES

	; MENU_STRUCT_START_LIST
			; IDX,ROUTINE;SHORTCUT
	GWVA_NEXT_SHORTCUT_CONTROL 'i'
	GWVA_MENU_STRUCT_MNULIST MNU_DESK_INFO,menu_info
	GWVA_NEXT_SHORTCUT_CONTROL 'o'
	GWVA_MENU_STRUCT_MNULIST MNU_FILE_OPEN,menu_open
	GWVA_NEXT_SHORTCUT_CONTROL 'q'
	GWVA_MENU_STRUCT_MNULIST MNU_FILE_QUIT,menu_quit
	GWVA_MENU_STRUCT_MNULIST_END

name_app:		dc.b 'ROTAZOOM',0	; nom diff de l'exec pour multi launch sous Magic
name_menu:		dc.b '  Roto-Zoom  ',0
 even
	ifnd OPT_FULL_PATHNAMES
rsc_up_to_252_colors:		dc.b 'rotozoom.rsc',0
rsc_32K_colors:		dc.b 'rotozoom.rs2',0
	else
rsc_up_to_252_colors:		dc.b 'd:\assemble\sources.v45\rotozoom\rotozoom.rsc',0
rsc_32K_colors:		dc.b 'd:\assemble\sources.v45\rotozoom\rotozoom.rs2',0
	endc
 even

table_name_rsc:	dc.l rsc_up_to_252_colors
		dc.l rsc_up_to_252_colors
		dc.l rsc_up_to_252_colors
		dc.l rsc_up_to_252_colors
		dc.l rsc_32K_colors

;------------------------------------------------------------------------------

objet_fenetre1:
		; CLASS;METHODLIST_PTR;NAME;SHORTCUTLIST_PTR;PROPERTIES
	GWVA_OBJ_STRUCT_HEAD GWVA_CLASS_WIND.RSC.FORM,,'Win1',GWVA_WIND_GENERIC_METHOD_SHORTCUTLIST
		; ;FATHER_PTR;NEXT_BROTHER_PTR;FIRST_SON_PTR
	GWVA_OBJ_STRUCT_FAMILY ,,struct_bton_ok

		; FLAGS,PROPERTIES,NAME,INFO;TOPABLE_STATE
	GWVA_WIND_STRUCT_BASE	GWVA_WRSC_GADGETS_BASE,GWVA_WIND_PROPERTIES_BASE,
&			window1_name,0

		; ;ICON_WIND_PTR;MENU_SPEC_PTR;MOUSE_SPEC_PTR
	GWVA_WIND_STRUCT_DEF_EXTEND

		; FIRST_EXT_DX,FIRST_EXT_DY;FIRST_INT_VISIBLE_W,FIRST_INT_VISIBLE_H;FIRST_CONTENTS_W,FIRST_CONTENTS_H;FIRST_CONTENTS_DX,FIRST_CONTENTS_DY;FIRST_INT_BORDERS_W,FIRST_INT_BORDERS_H
	GWVA_WIND_STRUCT_FIRST_GEOMETRY GWVA_WIND_CTE_H_CENTER,GWVA_WIND_CTE_V_CENTER

	GWVA_WIND_STRUCT_USER		; ;USER_PTR1;USER_PTR2

	GWVA_WRSC_STRUCT_BASE	FORM_SIZE_XY	; TREE;PROPERTIES;IDX;DEPTH
	GWVA_WRSC_STRUCT_CLONE		; ;IS_CLONE_FORM,CLONE_MAIN_PTR;CLONE_FORM_SAVE

	GWVA_WFORM_STRUCT_BASE	FSXY_TEXT_WIDTH	; ;FIRST_FOCUSED_IDX;PROPERTIES

	***
struct_bton_ok:	; ;METHODLIST_PTR;NAME;SHORTCUTLIST_PTR;FATHER_PTR;NEXT_BROTHER_PTR;FIRST_SON_PTR;PROPERTIES
	GWVA_FBTON_STRUCT_HEAD struct_bton_ok_events,'Ok',shortcut_bton_ok,,struct_bton_annule
		; MAIN_IDX;PROPERTIES;STATE
	GWVA_FBTON_STRUCT_BASE FSXY_BTON_OK

shortcut_bton_ok:
	GWVA_NEXT_SHORTCUT_ALTERNATE 'o'
	GWVA_OBJ_STRUCT_SHORTCUT GWVA_METHOD_FORM_IFACE_CLICK
	GWVA_OBJ_STRUCT_SHORTCUT_END_LIST

struct_bton_ok_events:	; METHODE,ROUTINE
	GWVA_OBJ_STRUCT_METHOD	GWVA_METHOD_FORM_CLICKED,wind1_bton_ok_click
	GWVA_OBJ_STRUCT_METHOD_END_LIST
	***
struct_bton_annule:	; ;METHODLIST_PTR;NAME;SHORTCUTLIST_PTR;FATHER_PTR;NEXT_BROTHER_PTR;FIRST_SON_PTR;PROPERTIES
	GWVA_FBTON_STRUCT_HEAD struct_bton_annule_events,'Canc',shortcut_bton_annule,,struct_editable_W
		; MAIN_IDX;PROPERTIES;STATE
	GWVA_FBTON_STRUCT_BASE FSXY_BTON_CANCEL

shortcut_bton_annule:
	GWVA_NEXT_SHORTCUT_ALTERNATE 'a'
	GWVA_OBJ_STRUCT_SHORTCUT GWVA_METHOD_FORM_IFACE_CLICK
	GWVA_OBJ_STRUCT_SHORTCUT_END_LIST

struct_bton_annule_events:	; METHODE,ROUTINE
	GWVA_OBJ_STRUCT_METHOD	GWVA_METHOD_FORM_CLICKED,wind1_bton_annule_click
	GWVA_OBJ_STRUCT_METHOD_END_LIST
	***
struct_editable_W:	; ;METHODLIST_PTR;NAME;SHORTCUTLIST_PTR;FATHER_PTR;NEXT_BROTHER_PTR;FIRST_SON_PTR;PROPERTIES
	GWVA_FEDIT_TEXT_STRUCT_HEAD		,'Widt',,,struct_editable_H
		; MAIN_IDX;PROPERTIES
	GWVA_FTEXT_STRUCT_BASE		FSXY_TEXT_WIDTH
	GWVA_FEDIT_TEXT_STRUCT_BASE	 ;PROPERTIES
	***
struct_editable_H:	; ;METHODLIST_PTR;NAME;SHORTCUTLIST_PTR;FATHER_PTR;NEXT_BROTHER_PTR;FIRST_SON_PTR;PROPERTIES
	GWVA_FEDIT_TEXT_STRUCT_HEAD		,'Heig'
		; MAIN_IDX;PROPERTIES
	GWVA_FTEXT_STRUCT_BASE		FSXY_TEXT_HEIGHT
	GWVA_FEDIT_TEXT_STRUCT_BASE	 ;PROPERTIES

window1_name:	dc.b 'Formulaire de configuration',0
 even

;------------------------------------------------------------------------------
objet_fenetre2:
		; CLASS;METHODLIST_PTR;NAME;SHORTCUTLIST_PTR;PROPERTIES
	GWVA_OBJ_STRUCT_HEAD GWVA_CLASS_WIND.BITMAP,objet_fenetre2_event,'Roto',GWVA_WIND_GENERIC_METHOD_SHORTCUTLIST
		; ;FATHER_PTR;NEXT_BROTHER_PTR;FIRST_SON_PTR
	GWVA_OBJ_STRUCT_FAMILY 

		; FLAGS,PROPERTIES,NAME,INFO;TOPABLE_STATE
	GWVA_WIND_STRUCT_BASE	GWVA_WIND_GADGETS_MAXIMUM|MASK_INFO,GWVA_WIND_PROPERTIES_BASE,
&			window2_name,GWVA_ROOT_COPYRIGHT_MESSAGE

		; ;ICON_WIND_PTR;MENU_SPEC_PTR;MOUSE_SPEC_PTR
	GWVA_WIND_STRUCT_DEF_EXTEND

		; FIRST_EXT_DX,FIRST_EXT_DY;FIRST_INT_VISIBLE_W,FIRST_INT_VISIBLE_H;FIRST_CONTENTS_W,FIRST_CONTENTS_H;FIRST_CONTENTS_DX,FIRST_CONTENTS_DY;FIRST_INT_BORDERS_W,FIRST_INT_BORDERS_H
	GWVA_WIND_STRUCT_FIRST_GEOMETRY GWVA_WIND_CTE_H_CENTER,GWVA_WIND_CTE_V_CENTER,320,200

	GWVA_WIND_STRUCT_USER		; ;USER_PTR1;USER_PTR2

		; ;PROPERTIES;NB_BITPLANES;IMG_WIDTH,IMG_HEIGHT;DATA_PTR;PAL_PTR
	GWVA_WBITM_STRUCT_BASE 	GWVA_WBITM_MASK_FREEDATA,16,160,100

objet_fenetre2_event:		; METHOD,ROUTINE;CLASS;PROPERTIES
	GWVA_OBJ_STRUCT_METHOD	GWVA_METHOD_OPENED,initialisation_fenetre,GWVA_CLASS_WIND
	GWVA_OBJ_STRUCT_METHOD	GWVA_METHOD_CLOSED,close_fenetre_rotozoom,GWVA_CLASS_WIND
	GWVA_OBJ_STRUCT_METHOD	GWVA_METHOD_TIMER,event_timer_rotozoom

	GWVA_OBJ_STRUCT_METHOD_END_LIST

window2_name:	dc.b ' La fenˆtre qui calme ',0
 even

;------------------------------------------------------------------------------
objet_fenetre_info:
		; CLASS;METHODLIST_PTR;NAME;SHORTCUTLIST_PTR;PROPERTIES
	GWVA_OBJ_STRUCT_HEAD GWVA_CLASS_WIND.RSC,,'Info',GWVA_WIND_GENERIC_METHOD_SHORTCUTLIST
		; ;FATHER_PTR;NEXT_BROTHER_PTR;FIRST_SON_PTR
	GWVA_OBJ_STRUCT_FAMILY 

		; FLAGS,PROPERTIES,NAME,INFO;TOPABLE_STATE
	GWVA_WIND_STRUCT_BASE	GWVA_WRSC_GADGETS_BASE,GWVA_WIND_PROPERTIES_BASE,
&			GWVA_ROOT_COPYRIGHT_MESSAGE,0

		; ;ICON_WIND_PTR;MENU_SPEC_PTR;MOUSE_SPEC_PTR
	GWVA_WIND_STRUCT_DEF_EXTEND

		; FIRST_EXT_DX,FIRST_EXT_DY;FIRST_INT_VISIBLE_W,FIRST_INT_VISIBLE_H;FIRST_CONTENTS_W,FIRST_CONTENTS_H;FIRST_CONTENTS_DX,FIRST_CONTENTS_DY;FIRST_INT_BORDERS_W,FIRST_INT_BORDERS_H
	GWVA_WIND_STRUCT_FIRST_GEOMETRY GWVA_WIND_CTE_H_CENTER,GWVA_WIND_CTE_V_CENTER

	GWVA_WIND_STRUCT_USER		; ;USER_PTR1;USER_PTR2

	GWVA_WRSC_STRUCT_BASE	FORM_INFORMATION	; TREE;PROPERTIES;IDX;DEPTH
	GWVA_WRSC_STRUCT_CLONE		; ;IS_CLONE_FORM,CLONE_MAIN_PTR;CLONE_FORM_SAVE

 even

;------------------------------------------------------------------------------
objet_fenetre_fond:
		; CLASS;METHODLIST_PTR;NAME;SHORTCUTLIST_PTR;PROPERTIES
	GWVA_OBJ_STRUCT_HEAD GWVA_CLASS_WIND.RSC,,'Fond',GWVA_WIND_GENERIC_METHOD_SHORTCUTLIST
		; ;FATHER_PTR;NEXT_BROTHER_PTR;FIRST_SON_PTR
	GWVA_OBJ_STRUCT_FAMILY 

		; FLAGS,PROPERTIES,NAME,INFO;TOPABLE_STATE
	GWVA_WIND_STRUCT_BASE	GWVA_WRSC_GADGETS_BASE|MASK_INFO,GWVA_WIND_PROPERTIES_BASE,
&			fenetre_fond_name,GWVA_ROOT_COPYRIGHT_MESSAGE

		; ;ICON_WIND_PTR;MENU_SPEC_PTR;MOUSE_SPEC_PTR
	GWVA_WIND_STRUCT_DEF_EXTEND ,structure_menu_principal

		; FIRST_EXT_DX,FIRST_EXT_DY;FIRST_INT_VISIBLE_W,FIRST_INT_VISIBLE_H;FIRST_CONTENTS_W,FIRST_CONTENTS_H;FIRST_CONTENTS_DX,FIRST_CONTENTS_DY;FIRST_INT_BORDERS_W,FIRST_INT_BORDERS_H
	GWVA_WIND_STRUCT_FIRST_GEOMETRY GWVA_WIND_CTE_H_CENTER,GWVA_WIND_CTE_V_CENTER

	GWVA_WIND_STRUCT_USER		; ;USER_PTR1;USER_PTR2

	GWVA_WRSC_STRUCT_BASE	FORM_BACKGROUND	; TREE;PROPERTIES;IDX;DEPTH
	GWVA_WRSC_STRUCT_CLONE		; ;IS_CLONE_FORM,CLONE_MAIN_PTR;CLONE_FORM_SAVE

fenetre_fond_name:	dc.b 'Menu principal ...',0
 even
