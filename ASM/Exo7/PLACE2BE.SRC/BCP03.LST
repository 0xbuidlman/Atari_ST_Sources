hauteur%=10
'
'
DIM color%(16)
FOR i%=0 TO 15
  READ color%(i%)
NEXT i%
DATA 0,2,3,6,4,7,5,8,9,10,11,14,12,15,13,1
FOR i%=0 TO 15
  READ c%
  SETCOLOR i%,c%
NEXT i%
DATA $000,$200,$210,$311,$321,$422,$432,$533
DATA $543,$644,$654,$755,$765,$765,$777,$777
'
'
DIM a$(32)
FOR bar%=0 TO 31
  CLS
  FOR col%=0 TO bar%
    READ c%
    COLOR color%(c%)
    LINE col%,0,col%,hauteur%-1  ! COL%+(32-BAR%)/2
  NEXT col%
  GET 0,0,31,hauteur%-1,a$(bar%)
NEXT bar%
CLS
DATA 1
DATA 1,1
DATA 1,2,1
DATA 1,2,2,1
DATA 1,2,3,2,1
DATA 1,2,3,3,2,1
DATA 1,2,3,4,3,2,1
DATA 1,2,3,4,4,3,2,1
DATA 1,2,3,4,5,4,3,2,1
DATA 1,2,3,4,5,5,4,3,2,1
DATA 1,2,3,4,5,6,5,4,3,2,1
DATA 1,2,3,4,5,6,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,12,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,12,12,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,12,13,12,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,12,13,13,12,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,12,13,14,13,12,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,12,13,14,14,13,12,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,15,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1
DATA 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,15,15,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1
'
'
'
'
CLS
DIM a(32,35*6),image$(25*9)
OPEN "o",#1,"c:\offsets.dat"
c%=0
' cote%=7
FOR cote%=15 TO 7 STEP -1
  ' Initialise
  FOR j%=cote% TO cote%+8*2 STEP 8
    FOR i%=0 TO 35
      a(j%,i%)=-272+((j%+1)*3)*i%
    NEXT i%
  NEXT j%
  FOR k%=0 TO 23
    CLS
    ' decale
    FOR j%=cote% TO cote%+8*2 STEP 8
      FOR n%=0 TO 35
        a(j%,n%)=a(j%,n%)+(j%+1)*0.125
      NEXT n%
    NEXT j%
    ' affiche les 4 rasters
    ' (j%+1)*8-1= Largeur du sprite
    ' a%(j%,n%)= X du sprite
    FOR j%=cote% TO cote%+8*2 STEP 8
      FOR n%=0 TO 35
        x%=a(j%,n%)
        IF x%>0 AND x%<492
          PUT x%,0,a$(j%)
          PRINT #1,MKI$((x% MOD 16)*1024+32*j%);
          PRINT #1,MKI$(INT(x%/16)*8);
        ENDIF
      NEXT n%
    NEXT j%
    PRINT #1,MKI$(-1);
    PRINT #1,MKI$(-1);
    GET 0,0,319,hauteur%-1,image$(c%)
    INC c%
  NEXT k%
NEXT cote%
CLOSE
'
CLS
DO
  FOR i%=0 TO 24*9-1
    PUT 0,160,image$(i%)
    VSYNC
  NEXT i%
LOOP
